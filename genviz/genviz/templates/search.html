<!DOCTYPE html>
<html>
<head>
	<title>GenViz</title>
	<style type="text/css">
		.sequence {
			width:90%;
			word-break:break-all;
			font-family:'monospace';
			letter-spacing:10px;
		}
	</style>
</head>
<body>

<form method='GET' action=''>
	<div>
		<label for="gen">Gen</label>
		<input type="text" name="gene" placeholder="Inserte el nombre del gen">
	</div>
	<div>
		<label for="gen">Organismo</label>
		<input type="text" name="organism" placeholder="Homo sapiens (por omisiÃ³n)">
	</div>
	<button type="submit">Buscar</button>
</form>
<div id="response">
	<ul>
	</ul>
</div>
<script
  src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

<script type="text/javascript">
	$(document).ready(() => {
		$('form').submit((e) => {
			e.preventDefault()
			$.ajax({
				url: '',
				data: $('form').serialize(),
				success: (entries) => {
					$('#response ul').html('')
					entries.forEach((entry, _) => {
						// Insert \n after every 30 chars (10 triplets)
						// formatted_sequence = sequence.replace(/(.{30})/g,"$1<br>")
						$('#response ul').append(`
							<li>
								<a href='/details?id=${entry['Id']}'>${entry['Title']}</a>
								<p>${entry['Length']} bp</p>
							</li>
						`)
					})
				}
			})
		})
	})
</script>
</body>
</html>